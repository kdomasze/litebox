"use strict";var Litebox=function(){return function(e){var t=this;if(this.litebox=null,this.defaultOptions={enableEscClose:!0,enableExitButton:!0,fadeInTime:300,fadeOutTime:300},this.invokeFromAnchor=function(e){var i="";null!==e.getAttribute("href")&&""!==e.getAttribute("href")&&(i=e.getAttribute("href"));var n="";null!==e.getAttribute("data-litebox-description")&&""!==e.getAttribute("data-litebox-description")&&(n=e.getAttribute("data-litebox-description"));var l=e.querySelector("img"),o="";null!==l&&null!==l.getAttribute("alt")&&(o=l.getAttribute("alt")),t.invoke(i,o,n)},this.invoke=function(e,i,n){var l=t.build(e,i,n),o=document.querySelector("body");if(null!==o&&(o.appendChild(l),t.litebox=document.getElementById("js-litebox"),null!==t.litebox)){if(t.defaultOptions.enableExitButton){if(null===(a=t.litebox.querySelector("#js-litebox-exit")))return;a.addEventListener("click",function(){t.exit()})}else{var a;if(null===(a=t.litebox.querySelector("#js-litebox-exit")))return;var r=a.parentNode;if(null==r)return;r.removeChild(a),document.removeEventListener("keyup",t.escapeEvent)}t.defaultOptions.enableEscClose&&document.addEventListener("keyup",t.escapeEvent),t.fadeIn(t.litebox,t.defaultOptions.fadeInTime)}},this.exit=function(){if(null!==t.litebox){var e=t.litebox.parentNode;null!==e&&t.fadeOut(t.litebox,t.defaultOptions.fadeOutTime,function(){e.removeChild(t.litebox),t.litebox=null})}},this.escapeEvent=function(e){"Escape"===e.key&&t.exit()},this.build=function(e,t,i){var n=document.createElement("div");n.setAttribute("class","litebox"),n.setAttribute("id","js-litebox");var l=document.createElement("div");l.setAttribute("class","litebox-content"),n.appendChild(l);var o=document.createElement("img");o.setAttribute("src",e),o.setAttribute("alt",t),l.appendChild(o);var a=document.createElement("p");a.innerHTML=i,l.appendChild(a);var r=document.createElement("div");r.setAttribute("class","litebox-exit"),n.appendChild(r);var u=document.createElement("span");return u.setAttribute("id","js-litebox-exit"),u.innerText="Ã—",r.appendChild(u),n},this.fadeIn=function(e,t){e.style.opacity="0",e.style.display="block";var i=+new Date+t;!function n(){var l=+new Date,o=i-l;if(o<60)e.style.opacity="1";else{var a=1-o/t;e.style.opacity=a.toString(),requestAnimationFrame(n)}}()},this.fadeOut=function(e,t,i){e.style.opacity="1";var n=+new Date+t;!function l(){var o=+new Date,a=n-o;if(a<60)return e.style.opacity="0",e.style.display="none",void i();var r=1-a/t;e.style.opacity=(1-r).toString(),requestAnimationFrame(l)}()},void 0!==e)for(var i in this.defaultOptions)this.defaultOptions.hasOwnProperty(i)&&void 0!==e[i]&&(this.defaultOptions[i]=e[i])}}();document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("a[data-litebox]"),t=new Litebox;e.forEach(function(e){e.addEventListener("click",function(i){i.preventDefault(),t.invokeFromAnchor(e)})})});